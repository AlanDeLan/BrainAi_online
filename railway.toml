[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "python railway_start.py"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Persistent storage for vector database and chat history
[[deploy.volumes]]
mountPath = "/app/vector_db_storage"
name = "chromadb_storage"

[[deploy.volumes]]
mountPath = "/app/history"
name = "chat_history"
