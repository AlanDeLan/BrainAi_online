# üöÇ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è BrainAi Online –Ω–∞ Railway.app

**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ —Ç–∞ –Ω–∞–π–¥–µ—à–µ–≤—à–µ —Ä—ñ—à–µ–Ω–Ω—è: $5/–º—ñ—Å –∑ —É—Å—ñ–º –≤–∫–ª—é—á–µ–Ω–∏–º!**

---

## üìã –ó–º—ñ—Å—Ç

1. [–ß–æ–º—É Railway?](#—á–æ–º—É-railway)
2. [–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](#—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
3. [–ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è](#–ø–æ–∫—Ä–æ–∫–æ–≤–∞-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è)
4. [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è PostgreSQL](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-postgresql)
5. [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Volume](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-volume)
6. [–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞](#–∑–º—ñ–Ω–Ω—ñ-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞)
7. [–î–µ–ø–ª–æ–π —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥](#–¥–µ–ø–ª–æ–π-—Ç–∞-–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥)
8. [Troubleshooting](#troubleshooting)

---

## üéØ –ß–æ–º—É Railway?

### –ü–µ—Ä–µ–≤–∞–≥–∏ –¥–ª—è –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É:

‚úÖ **$5/–º—ñ—Å** - –≤—Å–µ –≤–∫–ª—é—á–µ–Ω–æ (app + PostgreSQL + storage)  
‚úÖ **512MB RAM** - –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è FastAPI + ChromaDB  
‚úÖ **PostgreSQL –≤–∫–ª—é—á–µ–Ω–æ** - —É –±–∞–∑–æ–≤–∏–π –ø–ª–∞–Ω  
‚úÖ **1GB persistent storage** - –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ—ó –ë–î  
‚úÖ **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –∑ GitHub** - push = –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –¥–µ–ø–ª–æ–π –∑–∞ 10 —Ö–≤–∏–ª–∏–Ω –±–µ–∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –±–æ–ª—é  
‚úÖ **–ë–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è —á–∞—Å—É —Ä–æ–±–æ—Ç–∏** - –ø—Ä–∞—Ü—é—î 24/7  
‚úÖ **Automatic SSL** - HTTPS –∑ –∫–æ—Ä–æ–±–∫–∏  
‚úÖ **Rollback –∑–∞ 1 –∫–ª—ñ–∫** - —è–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫  

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Railway | DigitalOcean | Render | Fly.io |
|----------|---------|--------------|--------|--------|
| –í–∞—Ä—Ç—ñ—Å—Ç—å | **$5** | $12+ | $7+ | $3-5 |
| PostgreSQL | ‚úÖ –í–∫–ª—é—á–µ–Ω–æ | $7 –æ–∫—Ä–µ–º–æ | $7 –æ–∫—Ä–µ–º–æ | ~$2 |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |
| RAM | 512MB | 512MB | 512MB | 256MB |
| –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |

---

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (5 —Ö–≤–∏–ª–∏–Ω!)

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏:
- –ê–∫–∞—É–Ω—Ç GitHub
- Google AI API –∫–ª—é—á ([–æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç—É—Ç](https://aistudio.google.com/app/apikey))
- –ö—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –¥–ª—è Railway ($5/–º—ñ—Å)

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç –Ω–∞ Railway
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://railway.app/
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Login** ‚Üí **Login with GitHub**
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Railway —É GitHub

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Project**
2. –í–∏–±–µ—Ä—ñ—Ç—å **Deploy from GitHub repo**
3. –û–±–µ—Ä—ñ—Ç—å `AlanDeLan/BrainAi_online`
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Deploy Now**

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–π—Ç–µ PostgreSQL
1. –£ –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **New**
2. –í–∏–±–µ—Ä—ñ—Ç—å **Database** ‚Üí **Add PostgreSQL**
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –±–∞–∑—É —Ç–∞ –∑–º—ñ–Ω–Ω—É `DATABASE_URL`

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ
1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Å–µ—Ä–≤—ñ—Å `brainai-online`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –≤–∫–ª–∞–¥–∫—É **Variables**
3. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ (–¥–µ—Ç–∞–ª—å–Ω–æ –Ω–∏–∂—á–µ)

### –ö—Ä–æ–∫ 5: –î–µ–ø–ª–æ–π!
Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –ü–æ–±—É–¥—É—î Docker image
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
- ‚úÖ –ü—ñ–¥–∫–ª—é—á–∏—Ç—å PostgreSQL
- ‚úÖ –í–∏–¥–∞—Å—Ç—å –ø—É–±–ª—ñ—á–Ω–∏–π URL

**–ì–æ—Ç–æ–≤–æ! –í–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –æ–Ω–ª–∞–π–Ω –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω!** üéâ

---

## üìñ –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ Railway

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ **https://railway.app/**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Login** (–≤–µ—Ä—Ö–Ω—ñ–π –ø—Ä–∞–≤–∏–π –∫—É—Ç)
3. –í–∏–±–µ—Ä—ñ—Ç—å **Login with GitHub**
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Railway:
   - –î–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤
   - –í–∏–±–µ—Ä—ñ—Ç—å **All repositories** –∞–±–æ `AlanDeLan/BrainAi_online`
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Authorize Railway**

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É

1. –ù–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Project**
2. –í–∏–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± –¥–µ–ø–ª–æ—é:
   - –û–±–µ—Ä—ñ—Ç—å **Deploy from GitHub repo**
3. –í–∏–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
   - –ó–Ω–∞–π–¥—ñ—Ç—å `AlanDeLan/BrainAi_online`
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –Ω–∞–∑–≤—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
   - –í–∏—è–≤–∏—Ç—å `Dockerfile`
   - –ü–æ—á–Ω–µ –±—ñ–ª–¥–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç
   - –°—Ç–≤–æ—Ä–∏—Ç—å production environment

### 3. –î–æ–¥–∞–≤–∞–Ω–Ω—è PostgreSQL

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–ø–æ—Å—ñ–±:
1. –£ –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **New** (–ø—Ä–∞–≤–æ—Ä—É—á –≤–≥–æ—Ä—ñ)
2. –í–∏–±–µ—Ä—ñ—Ç—å **Database**
3. –û–±–µ—Ä—ñ—Ç—å **Add PostgreSQL**
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
   - –°—Ç–≤–æ—Ä–∏—Ç—å PostgreSQL instance
   - –ó–≥–µ–Ω–µ—Ä—É—î `DATABASE_URL`
   - –ü—ñ–¥–∫–ª—é—á–∏—Ç—å –¥–æ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É

#### –©–æ –æ—Ç—Ä–∏–º–∞—î—Ç–µ:
```env
DATABASE_URL=postgresql://postgres:password@containers-us-west-xxx.railway.app:6543/railway
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω–∂–µ–∫—Ç–∏—Ç—å —Ü—é –∑–º—ñ–Ω–Ω—É —É –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫!

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Volume (–¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ—ó –ë–î)

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Å–µ—Ä–≤—ñ—Å `web`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É **Settings**
3. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –¥–æ **Volumes**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Volume**
5. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Mount Path**: `/app/vector_db_storage`
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add**

Railway –≤–∏–¥—ñ–ª–∏—Ç—å –¥–æ 1GB –¥–ª—è persistent storage.

---

## üîê –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### –Ø–∫ –¥–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ:

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–≤—ñ—Å `web`
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –≤–∫–ª–∞–¥–∫—É **Variables**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Variable** –∞–±–æ **RAW Editor** (–¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö –∑–º—ñ–Ω–Ω–∏—Ö)

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ:

```env
# AI Provider
GOOGLE_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑_google_ai_studio
AI_PROVIDER=google_ai

# Security (–∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ 64 —Å–∏–º–≤–æ–ª–∏)
SECRET_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω–∏–π_–∫–ª—é—á_64_—Å–∏–º–≤–æ–ª–∞
SESSION_SECRET=–≤–∞—à_—Å–µ—Å—ñ–π–Ω–∏–π_–∫–ª—é—á_64_—Å–∏–º–≤–æ–ª–∞

# Environment
ENVIRONMENT=production
DEBUG=false
```

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª—é—á—ñ–≤:

**PowerShell:**
```powershell
-join ((48..57) + (65..90) + (97..122) | Get-Random -Count 64 | ForEach-Object {[char]$_})
```

**Python:**
```python
python -c "import secrets; print(secrets.token_urlsafe(48))"
```

**Linux/Mac:**
```bash
openssl rand -base64 48
```

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```env
# OpenAI (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ)
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai
OPENAI_BASE_URL=https://api.openai.com/v1

# CORS (–æ–Ω–æ–≤—ñ—Ç—å –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è URL)
CORS_ORIGINS=["https://brainai-online-production.up.railway.app"]

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Logging
LOG_LEVEL=INFO
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (Railway –¥–æ–¥–∞—î —Å–∞–º):

```env
PORT=8000                    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
RAILWAY_ENVIRONMENT=production
RAILWAY_SERVICE_NAME=web
DATABASE_URL=postgresql://... # –ó PostgreSQL —Å–µ—Ä–≤—ñ—Å—É
```

---

## üöÄ –î–µ–ø–ª–æ–π —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É `git push`:

```powershell
# –í–Ω–µ—Å—ñ—Ç—å –∑–º—ñ–Ω–∏
git add .
git commit -m "update: new feature"
git push origin main

# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
# 1. –í–∏—è–≤–∏—Ç—å –Ω–æ–≤–∏–π –∫–æ–º—ñ—Ç
# 2. –ü–æ–±—É–¥—É—î –Ω–æ–≤–∏–π Docker image
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å health check
# 4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é
```

### –†—É—á–Ω–∏–π –¥–µ–ø–ª–æ–π

1. –£ Dashboard –∫–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–≤—ñ—Å
2. –í–∫–ª–∞–¥–∫–∞ **Deployments**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Deploy** ‚Üí **Redeploy**

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤

**–í —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:**
1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–≤—ñ—Å
2. –í–∫–ª–∞–¥–∫–∞ **Deployments**
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∞–∫—Ç–∏–≤–Ω–∏–π –¥–µ–ø–ª–æ–π
4. –í–∫–ª–∞–¥–∫–∞ **View Logs**

**–ê–±–æ —á–µ—Ä–µ–∑ CLI:**
```powershell
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Railway CLI
npm i -g @railway/cli

# –õ–æ–≥—ñ–Ω
railway login

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
railway logs
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ URL

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–≤—ñ—Å `web`
2. –í–∫–ª–∞–¥–∫–∞ **Settings**
3. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –¥–æ **Networking**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Generate Domain**

Railway –∑–≥–µ–Ω–µ—Ä—É—î URL:
```
https://brainai-online-production.up.railway.app
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É

1. –£ **Settings** ‚Üí **Networking**
2. –°–µ–∫—Ü—ñ—è **Custom Domains**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add custom domain**
4. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à –¥–æ–º–µ–Ω: `brainai.yourdomain.com`
5. –î–æ–¥–∞–π—Ç–µ CNAME –∑–∞–ø–∏—Å —É –≤–∞—à–æ–º—É DNS:
   ```
   CNAME brainai ‚Üí brainai-online-production.up.railway.app
   ```
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞—Å—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç

---

## üîß Health Check

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î `/health` endpoint:

```python
# main_production.py
@app.get("/health")
async def health_check():
    return {
        "status": "healthy",
        "timestamp": datetime.utcnow().isoformat(),
        "version": "1.0.0"
    }
```

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- Path: `/health`
- Interval: 30 —Å–µ–∫—É–Ω–¥
- Timeout: 100 —Å–µ–∫—É–Ω–¥
- Restart on failure: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### –í–±—É–¥–æ–≤–∞–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ Railway:

1. **Deployments** - —ñ—Å—Ç–æ—Ä—ñ—è –¥–µ–ø–ª–æ—ó–≤
2. **Metrics** - CPU, Memory, Network
3. **Logs** - realtime –ª–æ–≥–∏
4. **Usage** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### Metrics:
- **CPU Usage** - –≤—ñ–¥—Å–æ—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- **Memory Usage** - –ø–æ—Ç–æ—á–Ω–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ
- **Network** - –≤—Ö—ñ–¥–Ω–∏–π/–≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫
- **Request Rate** - RPS (requests per second)

### Alerts (—É –ø–ª–∞—Ç–Ω–∏—Ö –ø–ª–∞–Ω–∞—Ö):
- High CPU usage
- High memory usage
- Deployment failures
- Service downtime

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å —Ç–∞ –±—ñ–ª—ñ–Ω–≥

### Hobby Plan ($5/–º—ñ—Å):

**–©–æ –≤–∫–ª—é—á–µ–Ω–æ:**
- ‚úÖ 512MB RAM
- ‚úÖ Shared CPU
- ‚úÖ PostgreSQL database (512MB RAM)
- ‚úÖ 1GB persistent storage (Volume)
- ‚úÖ Unlimited deploys
- ‚úÖ Custom domains
- ‚úÖ SSL certificates
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏ PostgreSQL

### –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫:
- **Web Service**: ~$2-3/–º—ñ—Å (–∑–∞ —Ä–µ—Å—É—Ä—Å–∞–º–∏)
- **PostgreSQL**: ~$2/–º—ñ—Å
- **Volume**: ~$0.10/–º—ñ—Å
- **Total**: ~$5/–º—ñ—Å

### Credit-based billing:
- Railway –¥–∞—î **$5 –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –∫—Ä–µ–¥–∏—Ç—ñ–≤** –Ω–∞ –º—ñ—Å—è—Ü—å
- –í–∏ –ø–ª–∞—Ç–∏—Ç–µ —Ç—ñ–ª—å–∫–∏ –∑–∞ —Ç–µ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ
- Hobby Plan = $5 —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏—Ç—Ä–∞—Ç:
1. Dashboard ‚Üí **Usage**
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ø–æ—Ç–æ—á–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ª—ñ–º—ñ—Ç–∏ (Settings ‚Üí Usage Limits)

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –î–µ–ø–ª–æ–π –ø–∞–¥–∞—î –ø—Ä–∏ –±—ñ–ª–¥—ñ

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:**
1. Deployments ‚Üí –∫–ª—ñ–∫ –Ω–∞ failed deployment
2. View Logs ‚Üí Build Logs

**–¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏:**
```
‚ùå Error: requirements.txt not found
‚úÖ –†—ñ—à–µ–Ω–Ω—è: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ñ–∞–π–ª —É –∫–æ—Ä–µ–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

‚ùå Error: Out of memory during build
‚úÖ –†—ñ—à–µ–Ω–Ω—è: –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ Dockerfile (multi-stage build)
```

### –ü—Ä–æ–±–ª–µ–º–∞: Health check fails

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. –ß–∏ –ø—Ä–∞—Ü—é—î `/health` endpoint –ª–æ–∫–∞–ª—å–Ω–æ
2. –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—Ç (Railway –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `$PORT`)
3. –ß–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Å–ª—É—Ö–∞—î –Ω–∞ `0.0.0.0`

**–†—ñ—à–µ–Ω–Ω—è:**
```dockerfile
# Dockerfile - –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å:
CMD uvicorn main_production:app --host 0.0.0.0 --port ${PORT:-8000}
```

### –ü—Ä–æ–±–ª–µ–º–∞: Database connection error

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
```python
# –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è DATABASE_URL
import os
DATABASE_URL = os.getenv("DATABASE_URL")
```

**Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î `DATABASE_URL`:**
- –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–∞ –≤—ñ–¥—Å—É—Ç–Ω—è, –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ PostgreSQL
- Settings ‚Üí Reference Variables ‚Üí –¥–æ–¥–∞–π—Ç–µ –∑ PostgreSQL —Å–µ—Ä–≤—ñ—Å—É

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway

**–ü—Ä–∏—á–∏–Ω–∏:**
1. –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–≤—Å—è
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—Ç
3. Crash –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ Runtime Logs
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `CMD` —É Dockerfile
3. –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ Docker image:
   ```powershell
   docker build -t brainai .
   docker run -p 8000:8000 -e PORT=8000 brainai
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Out of memory

**–†—ñ—à–µ–Ω–Ω—è:**
1. –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:
   ```python
   # –ó–º–µ–Ω—à—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å workers
   uvicorn --workers 1
   
   # –û–±–º–µ–∂—Ç–µ —Ä–æ–∑–º—ñ—Ä ChromaDB cache
   ```

2. Upgrade –ø–ª–∞–Ω (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):
   - Settings ‚Üí Plan ‚Üí Developer ($10/–º—ñ—Å, 2GB RAM)

### –ü—Ä–æ–±–ª–µ–º–∞: Volume –Ω–µ –º–æ–Ω—Ç—É—î—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
1. Settings ‚Üí Volumes ‚Üí Mount Path: `/app/vector_db_storage`
2. –£ –∫–æ–¥—ñ:
   ```python
   VECTOR_DB_PATH = "/app/vector_db_storage"
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

**–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:**
1. –î–æ–¥–∞–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è (Redis)
2. –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ SQL –∑–∞–ø–∏—Ç–∏
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ connection pooling

---

## üîÑ Rollback

### –Ø–∫—â–æ –¥–µ–ø–ª–æ–π –∑–ª–∞–º–∞–≤ –ø—Ä–æ–¥–∞–∫—à–Ω:

1. **Deployments** ‚Üí –∑–Ω–∞–π–¥—ñ—Ç—å –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ä–æ–±–æ—á–∏–π –¥–µ–ø–ª–æ–π
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **‚ãØ** (—Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏)
3. –í–∏–±–µ—Ä—ñ—Ç—å **Redeploy**
4. Railway –≤—ñ–¥–∫–æ—Ç–∏—Ç—å –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó (~1 —Ö–≤–∏–ª–∏–Ω–∞)

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç —É—Å–ø—ñ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

- [ ] –ê–∫–∞—É–Ω—Ç –Ω–∞ Railway —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [ ] –ü—Ä–æ–µ–∫—Ç –¥–µ–ø–ª–æ—ó—Ç—å—Å—è –∑ GitHub
- [ ] PostgreSQL –¥–æ–¥–∞–Ω–æ —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ
- [ ] Volume —Å—Ç–≤–æ—Ä–µ–Ω–æ (`/app/vector_db_storage`)
- [ ] –í—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- [ ] `GOOGLE_API_KEY` –¥–æ–¥–∞–Ω–æ
- [ ] `SECRET_KEY` —Ç–∞ `SESSION_SECRET` –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ
- [ ] Health endpoint `/health` –ø—Ä–∞—Ü—é—î
- [ ] –ü—É–±–ª—ñ—á–Ω–∏–π URL –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ
- [ ] `CORS_ORIGINS` –æ–Ω–æ–≤–ª–µ–Ω–æ –∑ —Ä–µ–∞–ª—å–Ω–∏–º URL
- [ ] –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —Ç–∞ –ø—Ä–∞—Ü—é—î
- [ ] AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –∑–∞–ø–∏—Ç–∏
- [ ] –Ü—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è
- [ ] –õ–æ–≥—ñ –Ω–µ –ø–æ–∫–∞–∑—É—é—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ (Railway CLI)

```powershell
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è CLI
npm i -g @railway/cli

# –õ–æ–≥—ñ–Ω
railway login

# –õ—ñ–Ω–∫ –¥–æ –ø—Ä–æ–µ–∫—Ç—É
railway link

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
railway logs

# –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥–∏ —É Railway environment
railway run python manage.py migrate

# –í—ñ–¥–∫—Ä–∏—Ç–∏ Dashboard
railway open

# –ü–µ—Ä–µ–≥–ª—è–¥ –∑–º—ñ–Ω–Ω–∏—Ö
railway variables

# –î–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω–Ω—É
railway variables set KEY=value
```

---

## üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- **Railway Dashboard**: https://railway.app/dashboard
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: https://docs.railway.app/
- **Railway CLI**: https://docs.railway.app/develop/cli
- **Discord —Å–ø—ñ–ª—å–Ω–æ—Ç–∞**: https://discord.gg/railway
- **Status Page**: https://status.railway.app/
- **Pricing**: https://railway.app/pricing

---

## üí° –ü–æ—Ä–∞–¥–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### 1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
```python
# –î–æ–¥–∞–π—Ç–µ Sentry –¥–ª—è error tracking
pip install sentry-sdk
```

### 2. –†–µ–≥—É–ª—è—Ä–Ω—ñ –±–µ–∫–∞–ø–∏
- PostgreSQL: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ (Railway)
- Volume: Settings ‚Üí Create Snapshot

### 3. Environment variables
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏ —É Git
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Railway Variables

### 4. –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
–ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—ñ–ª—å—à–µ:
- Upgrade –¥–æ Developer Plan ($10/–º—ñ—Å, 2GB RAM)
- –î–æ–¥–∞–π—Ç–µ Redis –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
- Horizontal scaling (multiple instances)

---

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∏ –∑ –¥–µ–ø–ª–æ—î–º?**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Logs
2. –ü–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ Troubleshooting
3. Discord: https://discord.gg/railway
4. Support: help@railway.app

---

**–í—ñ—Ç–∞—î–º–æ! –í–∞—à BrainAi Online —Ç–µ–ø–µ—Ä —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –Ω–∞ Railway! üéâ**

URL: `https://brainai-online-production.up.railway.app`

**–í–∞—Ä—Ç—ñ—Å—Ç—å: –≤—Å—å–æ–≥–æ $5/–º—ñ—Å –∑ —É—Å—ñ–º –≤–∫–ª—é—á–µ–Ω–∏–º!** üí∞
